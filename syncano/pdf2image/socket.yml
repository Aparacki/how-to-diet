name: pdf2image
description: PDF to image converter

classes:
  document:
    - name: name
      type: string
    - name: user
      type: reference
      target: user
      filter_index: true
    - name: file
      type: file
    - name: status
      type: string
  document_preview:
    - name: document_version
      type: reference
      target: document_version
      filter_index: true
    - name: file
      type: file
    - name: pageNumber
      type: integer
      order_index: true
      filter_index: true
    - name: width
      type: integer
    - name: height
      type: integer
  document_version:
    - name: document
      type: reference
      target: document
      filter_index: true
    - name: file
      type: file

endpoints:
  convert:
    description: Generate images from PDF
    inputs:
      properties:
        versionId:
          type: integer
          description: Id of the document
          example: 1
    outputs:
      success:
        mimetype: application/json
        description: PDF successfuly generated
      fail:
        mimetype: application/json
        description: Zip generation failed
        exit_code: 400
        parameters:
          message:
            type: string
